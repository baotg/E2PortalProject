<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      >
<head>
    <title>Quản lý Giảng viên</title>
</head>
<body class="m4-cloak h-vh-100">
<script type="text/javascript">
function viewLecturer(id) {
	var url = '/lecturer/' + id.replace('ltr','');
	$("#content-wrapper").load(url);
}
function editLecturer(id) {
var url = '/lecturer/edit?id=' + id.replace('edt','');
	$("#content-wrapper").load(url);
}
function deleteLecturer(id){
    Metro.dialog.create({
        title: "Xóa giảng viên",
        content: "<div>Các thông tin liên quan như sau đều sẽ bị xóa: <br>1. Các lớp học phần do giảng viên này đảm nhận<br>2. Các lớp học cho giảng viên này chủ nhiệm<br>3. Toàn bộ sinh viên thuộc các lớp nêu trên<br>4. Bảng điểm danh<br> 5. Thời khóa biểu<br><b>Bạn có muốn tiếp tục?</b></div>",
        actions: [
            {
                caption: "Xóa",
                cls: "js-dialog-close alert",
                onclick: function(){
                	 var url = 'lecturer/delete?id=' + id.replace('dlt','');
                     $("#content-wrapper").load(url);
                }
            },
            {
                caption: "Hủy",
                cls: "js-dialog-close",
                onclick: function(){
                    
                }
            }
        ]
    });
}
</script>
<div id="main-content">
    <div class="row border-bottom bd-lightGray m-3">
        <div class="cell-md-4 text-center text-left-md">
            <h3 class="dashboard-section-title">Quản lý Giảng viên<small>Xem</small></h3>
        </div>
    </div>
    <div class="m-3">
        <div class="p-1 bg-transparent">
            <div class="row">
                <div class="cell-md-12 cell-xl-12">
                    <div class="p-1 p-6-lg bg-white mt-3">
                        <table class="table striped table-border mt-4" data-role="table" data-rows="10">
                            <thead>
                            <tr>
                                <th>Mã số giảng viên</th>
                                <th>Họ đệm</th>
                                <th>Tên</th>
                                <th>Giới tính</th>
                                <th>Ngày sinh</th>
                                <th>Địa chỉ</th>
                                <th>Điện thoại</th>
                                <th>Email</th>
                                <th></th>
                                <th></th>
                                
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="lecturer : ${lecturers}">
                                <td><a href="#lecturer"
											th:id=" 'ltr' + ${lecturer.id}"
											onclick="viewLecturer(this.id)"><span
												th:text="${lecturer.id}"></span></a></td>
                                <td th:text="${lecturer.lastName}"></td>
                                <td th:text="${lecturer.firstName}"></td>
                                <td th:if="${lecturer.gender} == true">Nam</td>
                                <td th:if="${lecturer.gender} == false">Nữ</td>
                                <td th:text="${lecturer.getFormatedDate()}"></td>
                                <td th:text="${lecturer.address}"></td>
                                <td th:text="${lecturer.numberPhone}"></td>
                                <td th:text="${lecturer.email}"></td>
                                <td><a href="#student" class="button warning" th:id=" 'edt' + ${lecturer.id}" onclick="editLecturer(this.id)">Sửa</a></td>
								<td><a href="#" th:id=" 'dlt' + ${lecturer.id}" onclick="deleteLecturer(this.id)"	class="button alert">Xóa</a></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>